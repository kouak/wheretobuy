<% semantic_form_for defined?(comment) && comment.new_record? == false ? comment : [commentable, Comment.new] do |f| %>
<% 
# In the first case, we have an edit form, in the second case, this is a new form called from nested resource
%>
  <%= f.error_messages %>
  <% f.inputs do %>
    <%= f.input :body %>
  <% end %>
  <% f.buttons do %>
    <%= f.submit %>
  <% end %>
<% end %>